<!DOCTYPE html>
<html lang="en">
<head>
  <title>Selamat Ulang Tahun :)</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="stylesheet.css">
  <link rel="stylesheet" type="text/css" href="loading.css">
  <link rel="stylesheet/less" href="cake.less">
  <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.1.0/less.min.js"></script>
  <link href="http://fonts.googleapis.com/css?family=Signika" rel="stylesheet">
  <style>
    body {
      overflow-x: hidden;
      font-family: 'Signika', sans-serif;
    }

    #ikan {
      display: none;
      position: fixed;
      bottom: 5vh;
      left: -150px;
      width: 20vw;
      max-width: 120px;
      transition: left 0.4s ease, top 0.4s ease;
      z-index: 50;
      cursor: grab;
    }

    .balloons {
      position: fixed !important;
      transition: left 0.3s ease, top 0.3s ease;
      z-index: 10;
      width: 10vw;
      max-width: 50px;
      cursor: grab;
    }

    #pesan-gerak {
      display: none;
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.75);
      color: #fff;
      padding: 12px 24px;
      border-radius: 16px;
      font-size: 16px;
      z-index: 9999;
    }
  </style>
</head>
<body>
  <div class="loading"></div>
  <audio id="suara-pop" src="https://www.soundjay.com/button/beep-07.wav" preload="auto"></audio>

  <!-- Balon huruf -->
  <div class="balloons text-center" id="b1"><h2 style="color:#F2B300;">H</h2></div>
  <div class="balloons text-center" id="b2"><h2 style="color:#0719D4;">A</h2></div>
  <div class="balloons text-center" id="b3"><h2 style="color:#D14D39;">U</h2></div>
  <div class="balloons text-center" id="b4"><h2 style="color:#8FAD00;">R</h2></div>
  <div class="balloons text-center" id="b5"><h2 style="color:#8377E4;">A</h2></div>
  <div class="balloons text-center" id="b6"><h2 style="color:#99C96A;">2</h2></div>
  <div class="balloons text-center" id="b7"><h2 style="color:#20CFB4;">0</h2></div>

  <img src="Balloon-Border.png" class="balloon-border">
  <img src="ikan.png" id="ikan" alt="Ikan Cupang Lucu">

  <div id="pesan-gerak">Balon dan ikannya ga bisaa di tangkep looo üòù coba gerakkan ke ikan dan balonnya.....</div>

  <div class="container">
    <!-- Tombol -->
    <div class="navbar navbar-fixed-bottom">
      <div class="row">
        <div class="col-xs-12 text-center">
          <button class="btn btn-primary" id="balloons_flying">kurang balonyyaa</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const ikan = document.getElementById("ikan");
    const suara = document.getElementById("suara-pop");

    function buatBisaDragDanSuara(elemen) {
      let dragging = false, offsetX = 0, offsetY = 0;

      elemen.addEventListener("mousedown", e => {
        dragging = true;
        offsetX = e.clientX - elemen.offsetLeft;
        offsetY = e.clientY - elemen.offsetTop;
        elemen.style.cursor = "grabbing";
        suara.currentTime = 0;
        suara.play();
      });

      document.addEventListener("mousemove", e => {
        if (dragging) {
          elemen.style.left = (e.clientX - offsetX) + "px";
          elemen.style.top = (e.clientY - offsetY) + "px";
        }
      });

      document.addEventListener("mouseup", () => {
        dragging = false;
        elemen.style.cursor = "grab";
      });

      elemen.addEventListener("touchstart", e => {
        dragging = true;
        const touch = e.touches[0];
        offsetX = touch.clientX - elemen.offsetLeft;
        offsetY = touch.clientY - elemen.offsetTop;
        suara.currentTime = 0;
        suara.play();
      });

      document.addEventListener("touchmove", e => {
        if (dragging) {
          const touch = e.touches[0];
          elemen.style.left = (touch.clientX - offsetX) + "px";
          elemen.style.top = (touch.clientY - offsetY) + "px";
        }
      });

      document.addEventListener("touchend", () => {
        dragging = false;
      });
    }

    function gerakAcakTerus(elemen) {
      setInterval(() => {
        if (!elemen.dragging) {
          const x = Math.random() * (window.innerWidth - elemen.offsetWidth);
          const y = Math.random() * (window.innerHeight - elemen.offsetHeight);
          elemen.style.left = `${x}px`;
          elemen.style.top = `${y}px`;
        }
      }, 3000);
    }

    document.getElementById("balloons_flying").addEventListener("click", () => {
      ikan.style.display = "block";
      buatBisaDragDanSuara(ikan);
      gerakAcakTerus(ikan);
      document.querySelectorAll('.balloons').forEach(balon => {
        buatBisaDragDanSuara(balon);
        gerakAcakTerus(balon);
      });
      document.getElementById("pesan-gerak").style.display = "block";
      setTimeout(() => document.getElementById("pesan-gerak").style.display = "none", 5000);
    });
  </script>
</body>
</html>
